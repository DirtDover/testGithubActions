# Brief

Welcome to Day 1 of the Cybersecurity Lead program at Jedha Bootcamp! This document outlines your responsibilities and provides detailed instructions to help you effectively guide students through today's exercises.

## Overview and Objectives

Module: 1 - Method Review and Tool Setup Module

Focus: Setting up the cybersecurity environment and crafting first professional reports

### Learning Objectives

- Setup Your Environment:
  Ensure students have all necessary tools installed and configured for the rest of the bootcamp.

- Crafting a Report:
  Teach students how to generate professional pentest reports using Pwndoc and Flameshot.

## Daily Schedule

- 09:30 - 12:30: Teaching

- 12:30 - 13:30: Lunch Break

- 13:30 - 13:40: Brief : Corellia Company and IBC Mission

  - You need to introduce the Corellia company and the context of the IBC mission that the students are going to work on during the training.

- 13:40 - 15:00: Exercise : Setup Your Environment

- 15:00 - 15:50: Exercise : Crafting a Report

- 15:50 - 16:00: Break

- 16:00 - 17:30: Exercise : Crafting a Report

- 17:30 - 17:45: Q&A and Review

  - Address remaining questions or issues from the exercises.
  - Review some of the reports generated by the students with them.
  - Provide feedback and ensure all students are on track.

- 17:45 - 18:00: Daily Recap and Closing
  - Summarize the day's activities.
  - Provide an overview of tomorrow's schedule and objectives.
  - Remind student to look at the next day's courses.

## Exercise Instructions

### Exercise 1: Setup Your Environment

Objective:
Equip students with the necessary tools and configurations for the rest of the bootcamp.

#### Instructions:

1. Virtualization and Development:

   - [VirtualBox](https://www.virtualbox.org/) or [VMWare Fusion](https://www.vmware.com/products/desktop-hypervisor/workstation-and-fusion):
     They are supposed to already have it installed. Verify that they have it installed.

2. Kali

   - [Kali](https://www.kali.org/get-kali/#kali-virtual-machines):
     - Supposed to be installed. Verify that they have it installed.
     - Verify that they have the latest version of Kali installed (apt update && apt upgrade).
     - Verify that the additional tools are installed. if not installed, propose to get a fresh Kali virtual machine.
     - Verify that they have set up a share folder between the host and the guest. if not, help them set it up. This would be useful for the next exercises.

3. Development and Virtualization:

   - [Docker](https://docs.docker.com/desktop/):
     - Verify that they have Docker installed. If not, help them install it.
     - They should install directly on their host machine, to avoid any issues with the virtual machine.
     - If they have already installed in their Kali machine, ask them to install it on their host machine.
     - If they have Windows, they should install Docker Desktop. If they have macOS, they should install Docker Desktop for Mac.
     - Verify that they have the latest version of Docker installed and the service is running.

4. Help students install the following tools:

   - [Pwndoc](https://github.com/pwndoc/pwndoc):
     - Let them follow the instructions in the README. The prefer way is to use Docker on their host machine.
   - [Flameshot](https://flameshot.org/):
     - They can install it via package manager or download it from the official website.
     - Verify that they have the application installed and working. They should be able to take screenshots and annotate them.
     - Show them how to anonymize the screenshots with the blur tool and to add red rectangles to highlight important parts.

5. Make them create an account and download the application on:

   - [Notion](https://www.notion.so/)
     - Verify that they have an account and the application installed. They will use it to take notes during the bootcamp.
     - Show them how to create a new page and how to organize their notes.

6. Virtual Machines:

   - [Windows 10 VM](https://go.microsoft.com/fwlink/p/?LinkID=2208844&clcid=0x40c) or [Windows 11 VM](https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/)
     - Verify that they have downloaded the VM. They will use it for the next exercises.
     - If they don't have enough space on their machine, they would have to download it later before exercise where it is needed (forensic analysis).

7. Code Editors:

   - [VSCode](https://code.visualstudio.com/)
     - Verify that they have it installed. If not, help them install it.
     - They should have at least one code editor installed on their host machine.

8. Rest of the tools could be installed later. But help them install them if they have time:

#### TA Responsibilities:

- Monitor Progress:

  - Walk around and between discord rooms to assist students encountering issues.
  - Ensure all students have successfully installed and configured the required tools.
  - Verify that they have the latest version of the tools installed.
  - Use discord poll to ask if they have installed the tools.
  - Inform the team if some students was not able to install the tools.
  - Avoid installing the tools for them. They need to learn how to install the tools themselves.

- Provide Support:

  - Answer technical questions related to installations.
  - Offer guidance on tool configurations and best practices.
  - If they have issues with the installation, help them troubleshoot and resolve the problems.
  - Provide additional resources or documentation for further assistance.

- Encourage Collaboration:
  - Promote peer-to-peer assistance among students.
  - Facilitate group troubleshooting sessions if multiple students face similar issues.

### Exercise 2: Crafting a Report

Objective:
Enable students to generate professional penetration testing reports using Pwndoc and Flameshot.

Scenario Recap:
Students have conducted a pentest for IBC SECURE BANK and need to compile their findings into a comprehensive report.

Resources Provided:

- ZIP File:
  Contains screenshots and brief descriptions of each vulnerability (Password: `R4ND0M1Z3R`).

- YAML File:
  `vulnerabilities.yml` with 72 common CVEs for report generation.

#### Instructions:

1. Setup Pwndoc:

   - Ensure Pwndoc is running (`https://localhost:8443/`) on their machines.
   - Help them import the provided report template or use the default template from [Pwndoc Templates](https://github.com/pwndoc/pwndoc/blob/main/backend/report-templates/Default%20Template.docx).

2. Import Vulnerability Data:

   - Make sure they have extract the ZIP file and organize screenshots in a designated folder.
   - Verify that they have load `vulnerabilities.yml` into Pwndoc.

3. Document Vulnerabilities:

   - For each vulnerability:
     - Comprehension Level: Ensure students understand the nature of the vulnerability. Explain any technical terms or concepts they may not grasp.
     - Title: Ensure students use clear and concise titles for each vulnerability.
     - Description: Help students articulate the issue concisely.
     - Impact: Challenge them to assess the potential impact on the system.
     - Screenshots: Make sure they include relevant screenshots with annotations. Verify that they have anonymized the screenshots.

4. Generate the Report:
   - Help them use Pwndoc to compile all documented vulnerabilities into the report template.
   - Ensure all sections are complete and well-organized.
   - Ensure every student have exported the final report in `.docx` format.

#### TA Responsibilities:

- Assist with Pwndoc:

  - Guide students through the Pwndoc installation and setup if not completed in Exercise 1.
  - Demonstrate how to import templates and vulnerability data.

- Support Report Writing:

  - Provide examples of well-crafted vulnerability descriptions and recommendations.
  - Help students understand how to articulate technical findings in a professional manner.

- Troubleshoot Tools:

  - Address any issues with Pwndoc, Flameshot, or other tools used in report creation.
  - Offer alternative solutions if certain tools are incompatible or malfunctioning.

- Ensure Quality:
  - Review students' reports to ensure they meet the required standards.
  - Provide constructive feedback to improve report clarity and professionalism.

## How to Help Students

1. Be Proactive:

   - Circulate the room to identify students who may need assistance.
   - Offer help before students have to ask for it.

2. Encourage Questions:

   - Create an open environment where students feel comfortable seeking help.
   - Address questions promptly to maintain the flow of exercises.

3. Facilitate Peer Learning:

   - Encourage students to collaborate and help each other.
   - Organize small group discussions for troubleshooting common issues.

4. Provide Clear Explanations:

   - Break down complex tasks into manageable steps.
   - Use analogies and examples to explain difficult concepts.

5. Monitor Progress:

   - Keep track of which students have completed each exercise.
   - Ensure no student is left behind and everyone stays on schedule.

6. Focus on the daily goals and objectives:
   - Keep students focused on the tasks at hand to maximize productivity.
   - Remind them of the importance of each exercise in building their skills.
   - Avoid getting sidetracked by unrelated topics or discussions.

## Common Issues and Solutions

- Installation Failures:

  - Issue: Tools not installing due to missing dependencies.
  - Solution: Refer to official documentation for prerequisites. Assist in installing missing packages.

- Configuration Errors:

  - Issue: Pwndoc not running correctly.
  - Solution: Verify Docker is running and Pwndoc services are up. Check for any error messages in the terminal.

- Understanding Technical Concepts:

  - Issue: Students struggling to comprehend vulnerabilities.
  - Solution: Provide real-world examples and analogies to simplify complex concepts.

- Report Generation Problems:

  - Issue: Students unable to import templates or data into Pwndoc.
  - Solution: Ensure the correct file paths and formats are used. Re-import the template if necessary.

- Tool Incompatibilities:
  - Issue: Certain tools not compatible with the student's OS.
  - Solution: Suggest alternative tools from the recommended list or provide platform-specific guidance.

## Additional Tips

- Install the tools yourself beforehand to anticipate common issues:
  Familiarize yourself with all the tools and exercises beforehand to provide accurate assistance.

- Be Patient and Supportive:
  Understand that students may have varying levels of technical expertise. Offer encouragement and positive reinforcement.

- Maintain Time Management:
  Keep exercises on schedule to ensure all activities are completed within the allotted time.

- Gather Feedback:
  At the end of the day, collect feedback from students to identify areas for improvement in future sessions.

---

# Solution

Here is the solution for the exercise (it may be different from the one provided by the students):

```
# Solution

# Executive summary

IBC a mandaté Corellia afin d’effectuer des tests d’intrusion sur ses applications web «sudo.co.il», «securebank.com». Le but de ces tests était de s’assurer que ces applications sont protégées contre des cyberattaques.

Lors de nos tests d’intrusions, nous avons identifié deux vulnérabilités de gravité très élevée (V01 & V02), qui pourrait permettre à un attaquant opérant depuis Internet d’usurper l’identité de n’importe quel utilisateur des applications web sudo.co.il et securebank.com, et ce, sans authentification. Cela lui permettrait ainsi d’accéder aux informations du compte et d’effectuer toutes les actions disponibles à partir de celui-ci.

Nous avons également identifié une vulnérabilité de gravité modérée. La vulnérabilité (V03) pourrait permettre à un attaquant d’obtenir les identifiants de connexion des utilisateurs du serveurs hébergeant l’application securebank.com. Cela pourrait permettre à l’attaquant de prendre le contrôle à distance du serveur.

Les risques métiers associées à ces différentes vulnérabilités sont les suivants :

- Mise en cause par rapport aux réglementations de la protection des données personnelles, telles que le RGPD : un attaquant pourrait parvenir à récupérer des données personnelles (données personnelles, transactions bancaires, factures, RIB, numéro de sécurité sociale) des utilisateurs de securebank.com, ce qui exposerait IBC à un risque de sanction par les organismes de régulation.
- Fraude / Usurpation d'identité: un attaquant pourrait exploiter diverses vulnérabilités afin d’usurper l’identité d’un utilisateur et accéder à ses données personnelles stockées sur l’application securebank.com.
- Contournement de contrôle interne: un attaquant pourrait obtenir des accès non autorisés à des ressources de securebank.com.
- Aide à l’exploitation d’autres vulnérabilités.

Corellia estime que les vulnérabilités identifiées peuvent constituer une menace grave pour le système d’information de IBC. De ce fait, Corellia préconise de corriger au plus vite les vulnérabilités en appliquant les recommandations associées.

## SQLi

Injection SQL sur l'application XXX

L'application XXX est vulnérable à une injection SQL dans le formulaire XXX. Ce type de faille survient lorsque le site web utilise les données saisies par l'utilisateur pour effectuer des actions de lecture, écriture, modification ou suppression dans la base de données, sans effectuer de contrôle sur le contenu des données soumises par l'utilisateur.

Un attaquant pourrait alors soumettre des requêtes contenant des mots-clés ayant un sens au niveau du langage de requête de la base de données. Il pourrait ainsi modifier le comportement des requêtes effectuées dans la base de données par l'application web ciblée et accéder notamment à la structure et aux contenus des tables de la base. Il pourrait également, dans certains cas, impacter la disponibilité ou la performance de la base de données en lançant des commandes de type BENCHMARK.

Protéger l'application contre les attaques de type injection SQL
Nous recommandons de corriger l'application XXX afin qu'elle soit protégée contre les attaques de type injection SQL. Pour ce faire, nous recommandons de modifier le code de l'application XXX afin d'utiliser systématiquement des requêtes préparées ("prepared statements") bindées lorsque des paramètres sous le contrôle de l'utilisateur sont utilisés dans la construction des requêtes SQL.

À défaut (et cela doit rester une exception), nous recommandons de filtrer en mode "liste blanche" les données sous le contrôle de l'utilisateur avant leur insertion dans la requête SQL. Dans cette approche, seuls les caractères ou chaînes de caractères explicitement définis sont autorisés. La présence de caractères non autorisés doit entraîner l'échec de la requête.
```
