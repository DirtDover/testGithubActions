# Penetration Testing a CI/CD Pipeline

<Note type="tip">

You can use the [Jedha CLI](https://app.jedha.co/track/learn-to-use-the-jedha-cli) to start the lab:

```bash
jedha-cli start ibc-ci-cd
```

</Note>

## Context

During a meeting with IBC, you gathered information about part of their Continuous Integration and Continuous Deployment (CI/CD) pipeline, which needs a comprehensive security audit. The pipeline includes multiple widely-used technologies like Jenkins, GitLab, and Gitea. The client has requested that the pentest focuses on real-world conditions, seeking to discover potential vulnerabilities in the CI/CD tools and configurations.

## Consultant's Notes

- **CI/CD Tools**: Jenkins, GitLab, Gitea.
- Jenkins is used for automated build and deployment jobs.
- GitLab serves as the code repository and version control system.
- Gitea hosts some legacy repositories and is still used for occasional development work.
- **Sensitive Data**: deployment keys, credentials, and tokens used throughout the pipeline.
- **Goal**: discover vulnerabilities in the CI/CD pipeline (e.g., credential leaks, improper access controls, misconfigurations, etc.).
- **Authentication**: multiple access levels, but the configuration may contain weaknesses.
- Limited **monitoring/logging**, potential for **privilege escalation** and **unauthorized access**.
- Pipeline lacks robust **security measures** like static code analysis or secret scanning.

## Task

Your task is to conduct a penetration test on IBC’s CI/CD pipeline to discover vulnerabilities in the pipeline’s tools, configuration, and processes. The primary focus should be on Jenkins, GitLab, and Gitea, with an emphasis on areas where sensitive data or access controls could be exploited.

You should use common pentesting techniques to:

- Explore **misconfigurations** in Jenkins, GitLab, and Gitea.
- Identify exposed or weak **credentials** (e.g., hardcoded tokens, insecure environment variables).
- Investigate possible **privilege escalation** or **unauthorized access** scenarios.
- Check for **insecure communication** channels between the tools or with external resources.

Ensure you also assess the pipeline’s resilience to **malicious changes** or injections during the build and deployment phases.

Produce a comprehensive report that details your findings, how to reproduce the vulnerabilities, and recommendations for securing the pipeline.
