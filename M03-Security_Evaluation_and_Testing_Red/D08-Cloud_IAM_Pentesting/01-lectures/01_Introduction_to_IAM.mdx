# Introduction to IAM

## What you will learn in this course üßêüßê

- Understand the concept of Identity and Access Management (IAM)
- Learn the importance of IAM for security

## Definition & Importance of IAM

### What is IAM?

**Identity and Access Management (IAM)** is a vital framework of business processes, policies, and technologies designed to manage digital identities and regulate user access to crucial organizational information. IAM systems encompass features like single sign-on, two-factor authentication, multifactor authentication, and privileged access management, ensuring secure storage and governance of identity and profile data.

![IAM](https://cyber-lead-assets.s3.amazonaws.com/M01-Security_Evaluation_and_Testing_(Red)/D09-Cloud_IAM_Pentesting/01-lectures/IAM.png)

It can be implemented on-premises, through cloud-based subscriptions, or via hybrid models. At its core, **IAM identifies individuals and roles within a system**, manages these roles, and determines appropriate access levels. This ensures the security and integrity of sensitive data and systems.

In today‚Äôs hybrid work environment, IAM is indispensable for providing secure access to organizational resources, whether employees are on-site or remote. It enables IT departments to control access efficiently, ensuring only authorized users can interact with sensitive information and preventing unauthorized access.

Beyond employees, it extends to contractors, vendors, business partners, and users on personal devices. It ensures that every individual has the correct level of access at the right time on the appropriate device, making IAM integral to modern IT and cybersecurity strategies.

### IAM is a Specialized Working Field

IAM has evolved into a specialized profession due to its critical role in protecting and managing organizational information systems. The field is recognized for its complexity, as it involves overseeing intricate and varied infrastructures that demand advanced technical skills and knowledge.

IAM is essential for safeguarding an organization‚Äôs data and resources by meticulously controlling access permissions and ensuring secure operations. The profession is also marked by its rapid evolution, which requires professionals to continuously monitor technological advancements and adapt to emerging threats and solutions.

The impact of IAM is broad, influencing every department and process within an organization, from onboarding and offboarding employees to shaping overall business operations. Additionally, IAM is crucial for maintaining regulatory compliance, ensuring that organizations adhere to data protection standards and meet legal and regulatory requirements.

#### Various Roles in IAM

**IAM Production Engineer**

An IAM Production Engineer plays a crucial role in the deployment, maintenance, and evolution of Identity and Access Management solutions. This position involves optimizing IAM platforms to ensure they function efficiently and effectively. Engineers in this role are also responsible for responding to and resolving any incidents that may arise within the IAM systems. Their work is fundamental to keeping the IAM infrastructure robust and operational. This role typically commands an average salary of approximately ‚Ç¨60,000 per year.

**IAM Consultant**

IAM Consultants specialize in designing IAM architectures tailored to the specific needs of organizations. They develop role models and business processes that align with the organization's security objectives and operational requirements. Consultants also manage the integration of IAM solutions into client environments, ensuring that these systems function seamlessly within existing infrastructures. Their expertise is crucial for organizations looking to implement or enhance their IAM strategies, and this role generally offers an average salary of around ‚Ç¨45,000 per year.

**IAM Security Architect**

The IAM Security Architect is responsible for designing large-scale IAM solutions and establishing security strategies that address both current and future needs. This role involves overseeing the implementation of IAM projects, ensuring that security measures are robust and aligned with the organization‚Äôs overall security posture. Architects in this position play a key role in shaping the strategic direction of IAM initiatives, focusing on integrating comprehensive security controls and solutions.

**IAM Analyst**

An IAM Analyst evaluates an organization‚Äôs needs concerning identity and access management. This role involves analyzing existing IAM processes to identify areas for improvement and proposing enhancements to optimize efficiency and security. Analysts contribute significantly to the development and refinement of access policies, ensuring they meet the organization's security requirements and regulatory standards. Their work helps in tailoring IAM strategies to better fit the organization's evolving needs.

**IAM Developer**

IAM Developers focus on creating and maintaining applications and scripts related to identity and access management. Their responsibilities include integrating IAM solutions with other enterprise systems and automating various identity and access management processes. This role is essential for ensuring that IAM systems operate smoothly and efficiently, streamlining processes to enhance overall security and functionality.

**IAM Governance Manager**

The IAM Governance Manager is responsible for defining and implementing policies related to identity and access management. This role involves ensuring that the organization complies with relevant regulatory requirements and overseeing audits and access certification campaigns. Governance Managers play a critical role in maintaining the integrity and effectiveness of IAM systems by establishing comprehensive policies and procedures that guide the management of identities and access rights.

### Why is IAM Important for Security?

IAM is crucial for security because it automates and streamlines access management, reducing human error and ensuring consistent, secure access control. Given the increasing regulatory and organizational pressures, businesses cannot rely on manual processes to assign and track user privileges. IAM systems provide granular access control and comprehensive auditing capabilities for both on-premises and cloud environments.

Modern IAM systems integrate advanced features like biometrics, behavior analytics, and AI, making them well-suited to the evolving security landscape. They support the transition from traditional firewall-based security to zero-trust models, essential for securing IoT environments and distributed networks. By tightly controlling resource access, IAM enhances an organization's ability to protect sensitive data.

IAM is accessible and beneficial for companies of all sizes. It helps organizations balance restricting access to sensitive information while ensuring necessary resources remain accessible to authorized users. This balance is crucial in preventing unauthorized access and potential breaches.

Cybercriminals continually evolve their tactics, making robust IAM systems vital in defending against sophisticated attacks, such as phishing, which often target users with existing access. Effective IAM makes managing access less challenging and reduces the risk of breaches. AI-enabled IAM systems can detect and respond to suspicious activities in real time, mitigating the impact of potential attacks.

IAM also plays a significant role in maintaining regulatory compliance, reducing the manual effort required to enforce standards like **HIPAA** and **GDPR**. By automating user access and role management, IAM minimizes human errors and ensures only authorized individuals access critical systems and data. What's more, GDPR requires us not to keep information for too long, and with IAM it's much simpler to delete this data after a certain date. This automation extends to provisioning and de-provisioning access rights, making the process more efficient and secure.

<Note type="tip" title="What are HIPAA & GDPR ?">
**Health Insurance Portability and Accountability Act (HIPAA)** is a set of U.S. federal regulations that outline the legal use and disclosure of protected health information in the United States.

Compliance with HIPAA requires healthcare organizations to create a culture that protects the privacy, security, and integrity of health information in their daily operations.

**The General Data Protection Regulation (GDPR)** is a legal framework that sets guidelines for collecting and processing personal information from individuals inside and outside the European Union.

Approved in 2016 and enforced in 2018, GDPR is the world's strictest security and privacy law. It aims to give individuals control over their personal data by holding companies accountable for how they handle this information.
</Note>

## Key concept of IAM

![IAM_Core_Responsabilities](https://cyber-lead-assets.s3.amazonaws.com/M01-Security_Evaluation_and_Testing_(Red)/D09-Cloud_IAM_Pentesting/01-lectures/IAM_Core_Responsabilities.png)

IAM systems verify identities and permissions accurately during each access attempt. **Identity management** involves maintaining an updated record of everyone who should have access, including details like job titles, managers, and contact information. Authentication matches login information with this database, often enhanced by multifactor authentication (MFA) for added security.

**Access management**, the second component of IAM, determines which resources a verified user can access. Authorization ensures access levels are appropriate based on factors like job role and security clearance. IAM systems aim to ensure secure and correct authentication and authorization processes during every access attempt, safeguarding organizational resources and data.

### Groups, Users, Roles & Permissions

In IAM (Identity and Access Management), users, roles, and permissions are essential components for establishing secure and efficient access controls within an organization. To effectively manage these elements, IAM systems often utilize groups, which simplify the administration of user access across various resources.

**Users** are the individuals who need access to organizational resources, and this group can include employees, contractors, vendors, and partners. Each user is assigned one or more **roles**, which are defined based on their job functions and responsibilities. Roles are instrumental in streamlining access management because they bundle together sets of **permissions** that correspond to the duties associated with each role. For example, a role might include permissions to access certain applications, view specific data, or modify system settings.

**Permissions** specify the precise access rights granted to users, such as the ability to read, write, modify, or delete particular resources. By associating these permissions with roles, IAM systems make it easier to manage access rights and ensure that users have only the necessary access required for their job functions‚Äîa practice known as the principle of least privilege. This approach minimizes the risk of unauthorized access and potential insider threats.

To further enhance management efficiency, IAM systems often use **groups**. Groups are collections of users who share similar roles or access needs. By assigning permissions to groups rather than individual users, administrators can manage access more effectively and ensure consistency across the organization. For instance, if a department needs access to a specific set of resources, a group can be created for that department, and permissions can be applied to the group. All users within that group inherit the same permissions, simplifying both the assignment and adjustment of access rights.

IAM systems also automate the **provisioning and de-provisioning** of user access based on changes in job roles or employment status. This automation ensures that access rights are updated in real time as users join, move within, or leave the organization. By maintaining accurate and current access records, IAM systems not only enhance security but also support compliance with regulatory standards.

### Access and control policies

An IAM framework enables IT to control user access to critical information within their organizations. IAM products offer role-based access control, which lets system administrators regulate access to systems or networks based on the roles of individual users within the enterprise.

IAM systems should do the following:

- **Capture and record** user login information.
- **Manage** the enterprise database of user identities.
- **Orchestrate** the assignment and removal of access privileges.

That means systems used for IAM should provide a centralized directory service with oversight and visibility into all aspects of the company user base.

Digital identities are not just for humans. IAM can¬†manage the digital identities of devices and applications¬†to help establish trust.

In the cloud, IAM can be handled by authentication as a service or identity as a service (IDaaS). In both cases, a third-party service provider takes on the burden of authenticating and registering users, as well as managing their information.

IAM technologies can be used to initiate, capture, record and manage user identities and their related access permissions in an automated manner. An organization¬†gains the following benefits:

- **Access privileges are granted according to policy**, and all individuals and services are properly authenticated, authorized and audited.
- Companies that properly manage identities have **greater control of user access**, which reduces the risk of internal and external data breaches.
- Automating IAM systems¬†allows businesses to **operate more efficiently** by decreasing the effort, time and money that would be required to manually manage access to their networks.
- In terms of security, the use of an IAM framework can **make it easier to enforce policies** around user¬†authentication, validation and privileges, and address issues regarding privilege creep.
- IAM systems help companies **better comply with government regulations** by allowing them to show corporate information is not being misused. Companies can also demonstrate that any data needed for auditing can be made available on demand.

Companies can gain competitive advantages by implementing IAM tools and following related best practices. For example, IAM technologies allow the business to give users outside the organization like customers, partners, contractors and suppliers access to its network across mobile applications, on-premises applications and SaaS without compromising security. This enables better collaboration, enhanced productivity, increased efficiency and reduced operating costs.

## IAM On-Premise

IAM can indeed be implemented for free, as it essentially involves monitoring and managing accounts, permissions, and access rights within an organization. Many open-source tools and platforms offer robust IAM solutions at no cost, allowing organizations to effectively oversee user access, ensure security, and maintain compliance without incurring significant expenses. By utilizing these resources, companies can achieve the necessary control over their digital environment without the need for expensive proprietary software.

### Active Directory

<Note type="warning">
It is important to note that IAM systems do not require Active Directory to work but it brings about obvious synergies.
</Note>

The integration of IAM with Active Directory (AD) enable organizations to manage access control and enforce security policies in a centralized and organized manner. Active Directory serves as a robust tool for implementing IAM by acting as a reliable source of truth for user information and permissions **provided it is kept up-to-date**. To ensure that AD remains accurate and effective for IAM purposes, organizations should consider several key factors, such as:

- **Promoting strong internal IAM processes and procedures**. It can be by automating Joiners, Movers and Leavers (JML) processes that ensure timely changes in Human Resource(HR) IT systems once an employee has left or changes role.
- Beyond this, **implementing an IAM solution that integrates with AD** could mean that changes made in HR IT systems can be swiftly seen in AD, reducing administrative overhead to keep user privileges correct across the board.
- **Having a single source of truth in AD facilitates maturing the IAM architecture** by optimising the data flow between HR IT systems, the IAM solution, AD, IT ticketing systems, etc.

Using an IAM solution that integrates with AD also helps organisations to take advantage of features such as single sign-on (SSO) and multi-factor authentication (MFA). SSO has many benefits, from a user perspective it allows them to access multiple systems and applications with a single set of credentials, reducing the number of times they need to enter their username and password. MFA adds an additional layer of security by requiring users to provide at least a second form of authentication, such as a fingerprint or a one-time code, before being granted access.

The combination of AD and IAM **simplifies user lifecycle management**. IAM systems can automate the onboarding and offboarding processes, ensuring that users have the right access at the right time. This not only enhances efficiency but also reduces the risk associated with lingering access to former employees.

IAM solutions provide robust audit trails, allowing organizations to monitor and track user activities. This is crucial for compliance with regulatory requirements and internal policies. By integrating IAM with AD, administrators can generate detailed reports on user access, helping to demonstrate compliance during audits.

### LDAP

#### Introduction to LDAP

**Lightweight Directory Access Protocol (LDAP)** is a key tool used in the implementation of Identity and Access Management (IAM) systems. Developed by the University of Michigan in 1993, LDAP introduced a more efficient and streamlined approach to directory services compared to the bandwidth-heavy X.500 protocols that were common at the time. While LDAP is not an IAM system in itself, it plays a vital role in modern IT infrastructure by managing user authentication and securing critical information. Its lightweight and efficient design make it an essential component for organizations to effectively manage and organize user access within their IAM frameworks.

![LDAP](https://cyber-lead-assets.s3.amazonaws.com/M01-Security_Evaluation_and_Testing_(Red)/D09-Cloud_IAM_Pentesting/01-lectures/LDAP.png)

#### LDAP in Identity and Access Management (IAM)

LDAP is a protocol assisting users in locating organizational and personal data. Its primary objectives include data storage in an LDAP directory and user authentication to access this directory. It's a language enabling applications to communicate with directory services, which are vital for organizational information access and management.

In IAM, LDAP serves a crucial role, interfacing with other authentication protocols like Kerberos and SAML. It's particularly effective in user authentication, including single sign-on (SSO) support, Simple Authentication Security Layer (SASL), and Secure Sockets Layer (SSL).

#### How LDAP Functions

LDAP operates on a client-server model. Key components include the Directory System Agent (DSA) and the Directory User Agent (DUA), which interact to authenticate users. LDAP searches through the Directory Information Tree (DIT) using distinguished names (DN) and relative distinguished names (RDN) to locate and validate user information.

The LDAP directory's structure is hierarchical, starting from a root directory and branching out to include various organizational units. This structure allows for efficient navigation and search response.

#### The Importance of LDAP in Modern IT Infrastructure

LDAP's relevance in today's cloud-driven world is unquestionable. It provides a secure method for managing users and IT resources, enabling access control across different network parts. LDAP's ability to add, delete, modify, and search records is vital for both authentication and authorization of users to resources. Furthermore, its integration with cloud services enhances its applicability in modern, distributed IT environments.

#### LDAP Tools on Linux: OpenLDAP

For organizations using Linux systems, **OpenLDAP** is a powerful and widely-used tool for implementing LDAP directory services. OpenLDAP is an open-source implementation of the LDAP protocol, providing a robust and flexible solution for managing directory services. It offers a comprehensive set of features for creating, managing, and querying directory entries, making it a popular choice for integrating LDAP with IAM systems.

OpenLDAP allows administrators to set up and manage LDAP directories on Linux environments efficiently. It supports various LDAP operations, including adding, modifying, and deleting entries, and integrates seamlessly with other IAM tools and protocols. Additionally, OpenLDAP provides a range of configuration options and security features, such as TLS/SSL encryption, to ensure secure communication and data protection.

The tool is highly customizable, allowing organizations to tailor their LDAP directories to meet specific needs and requirements. Its extensive documentation and active community support make it a reliable choice for implementing and maintaining LDAP services in diverse IT environments. Whether for user authentication, access control, or resource management, OpenLDAP provides a solid foundation for leveraging LDAP in a Linux-based infrastructure.

## IAM in cloud environments

### IAM sur AWS, Azure, GCP

For each of the big three cloud providers, IAM services are foundational and generally available with no additional cost, although certain advanced features might require a subscription. On AWS, the **AWS Identity and Access Management (IAM)** service provides essential tools for managing user permissions, roles, and policies, while **AWS Single Sign-On (SSO)** and **AWS Organizations** offer centralized access management and governance across multiple accounts.

Similarly, Google Cloud Platform (GCP) offers **Cloud Identity and Access Management (Cloud IAM)**, which is its primary tool for managing access, alongside **Identity-Aware Proxy (IAP)** for secure app access and **Cloud Identity** for broader identity management.

In contrast, Azure‚Äôs IAM offerings include **Azure Active Directory (Azure AD)**, which provides a comprehensive identity management solution but requires a subscription for certain features. Azure also offers **Azure Role-Based Access Control (RBAC)** for fine-grained access management and **Azure AD Privileged Identity Management (PIM)** for managing elevated access, both of which are integrated within the subscription-based tiered service structure. This tier-based system impacts not only IAM features but also scalability options across Azure‚Äôs cloud services.

### Differences and similarities with internal environments

When comparing cloud-based **IAM (Identity and Access Management)** and on-premises IAM, several key differences emerge.

**Cost**: Cloud-based IAM solutions often have lower initial costs since they don't require significant investments in physical infrastructure and ongoing maintenance. On-premises IAM, however, involves higher upfront capital expenditure for hardware and software.

**Control**: On-premises IAM offers greater control over the environment, as the organization manages and secures its own systems. Cloud-based IAM relies on the service provider's security measures and controls, which might be less flexible.

**Customization**: On-premises IAM systems can be tailored to fit the specific needs of an organization more precisely. In contrast, cloud-based IAM solutions, while more standardized, might offer limited customization options to ensure broad applicability and ease of deployment.

**Compliance**: Organizations with stringent regulatory requirements may prefer on-premises IAM to ensure full compliance with local laws and regulations. Cloud-based IAM providers, however, offer compliance with many international standards, which can be beneficial for organizations operating in multiple regions.

**Complexity**: Managing on-premises IAM can be complex and requires specialized IT staff to handle installations, updates, and troubleshooting. Cloud-based IAM simplifies management by offloading these responsibilities to the service provider, allowing internal teams to focus on other priorities.

**Coverage**: Cloud-based IAM solutions typically offer better scalability, allowing businesses to easily extend their identity management across global operations and remote work environments. On-premises IAM may face limitations in scaling and adapting to rapidly changing business needs.

**Continuity**: Cloud-based IAM provides robust disaster recovery and high availability by leveraging the redundancy and backup capabilities of the cloud provider. On-premises IAM requires significant investment and planning to achieve similar levels of business continuity.

**Connectivity**: Cloud-based IAM integrates seamlessly with other cloud services and applications, promoting better interoperability and efficiency. On-premises IAM may require additional effort to ensure compatibility with external systems and cloud services.

Overall, the choice between cloud-based and on-premises IAM depends on an organization's specific needs, resources, and strategic goals. Each option has its unique benefits and challenges, and companies must weigh these factors carefully to determine the best fit for their identity and access management requirements.

## Common Risks and Vulnerabilities

### Risks associated with misconfiguration of IAM

Cloud misconfiguration indicates any bugs, gaps, or errors that could expose your environment to risk during cloud adoption, migration, and setup. The misconfigurations can lead to cyber-threats that come in the form of security breaches, external hackers, ransomware, malware, or insider threats that exploit vulnerabilities or misconfigurations to access your network.

due to the complexity of multi-cloud settings and the difficulty of manually identifying and correcting errors. It occurs when settings, permissions, or access controls are not properly configured or are left at default values, which can expose sensitive information, grant excessive privileges, or create unintended security gaps. Misconfigurations can lead to unauthorized access, data breaches, service disruptions, or other security incidents.

Inadequate change control is insufficient processes or controls for managing changes to systems, applications, or infrastructure. Change control is a systematic approach to managing and tracking modifications made to an environment, including software updates, configuration changes, patches, or system upgrades. Without proper change control, organizations risk introducing unintended consequences, such as introducing vulnerabilities, breaking functionality, or disrupting services. It becomes challenging to maintain a secure and stable environment without a structured change management process.

According to a [Gartner survey](https://www.gartner.com/smarterwithgartner/is-the-cloud-secure), misconfiguration-related issues cause 80% of all data security breaches, and also until 2025, up to 99% of cloud environment failures will be attributed to human errors.

The mitigation of the risk of cloud misconfiguration can be challenging and can be reduced by giving competent training and continuous monitoring of the cloud environment.

### Common vulnerabilities and potential impacts

#### 1. Excessive Permissions

Excessive permissions refer to any permissions assigned to an identity that are not absolutely necessary for completing their intended job function. This can occur unintentionally or because the person provisioning the privilege was unsure of future needs and provided broad access. Excessive permissions can lead to unauthorized access and potential data breaches. To mitigate this risk, organizations should implement Least Privilege policies, assigning more refined and specific permissions to identities and delegating permissions across multiple roles.

#### 2. Misconfigurations

Identity misconfigurations can include allowing logins from unauthorized users or IP addresses, leaving APIs or data stores publicly open, lack of multi-factor authentication (MFA), not rotating access keys regularly, or insufficient access control of data. Misconfigurations are one of the leading causes of security breaches, as they create vulnerabilities that can be exploited by attackers. Cloud Security Posture Management (CSPM) tools can detect and remediate these misconfigurations by continuously monitoring audit logs and activity, comparing them against a secure baseline.

#### 3. Compliance/ Audit Challenges

Enterprises must comply with industry regulations such as HIPAA, PCI DSS, and NIST-800 53, which require specific security measures for data access and privacy. Compliance and audit challenges arise when organizations cannot ensure the security of business and customer data. IAM tools help manage access, prevent malicious activities, and detect breaches, providing accurate insights into all identities, their access rights, and usage, which is crucial during audits.

#### 4. Privilege Escalation

Without proper privilege control, attackers can escalate their privileges from low-level identities to gain greater control. For example, an attacker with access to an identity that has the permission `iam:CreatePolicyVersion` can create a new version of an IAM policy to grant themselves additional privileges. This exploit can be avoided by maintaining accurate insights into every identity‚Äôs effective permissions and using a cloud security tool to detect such risks.

#### 5. Multicloud Risks

Operating in multicloud environments adds complexity to governing and securing identities. Identities and their access can cross over different cloud environments, making it challenging to detect and manage access paths. For instance, an attack path might move from Azure to AWS. To prevent breaches, organizations need advanced IAM tools specifically designed for cloud environments that can manage identities and access across multiple clouds.

#### 6. Insider Threats and Privilege Abuse

Highly privileged identities are prime targets for attackers and can lead to significant damage if abused. Insider threats include employees acting negligently or maliciously. While it is difficult to completely prevent insider threats, their impact can be mitigated by limiting privileges, preventing lateral movement, and avoiding the use of root or admin accounts for everyday tasks. Instead, permissions should be delegated to roles with finely tuned privileges.

#### 7. Poor Access Management Policies and Practices

When new applications are deployed, teams often manually design security protocols, which can lead to inconsistent and insecure practices due to tight budgets and time constraints. Developers might grant excessive access without a clear process. Implementing a central IAM solution, leveraging automation, and using intelligent workflows can help operationalize identity programs and ensure necessary remediations are applied efficiently.

#### 8. Data Access Risks

Protecting data and critical applications is paramount for any enterprise. Data breaches can lead to business disruption, monetary fines, and loss of customer trust. Insufficient identity and access management directly impacts data security by exposing sensitive information to unauthorized access.

#### 9. Off-boarding Employees/ Orphaned Identities

Effective offboarding of employees is a crucial part of identity governance. Permissions granted during an employee's tenure must be revoked to prevent future insider threats and reduce the attack surface. In the cloud, visibility into cloud-native identities, such as roles and role assignments created by employees, is essential. Ensuring all such identities are deprovisioned along with the employee is necessary for maintaining security.

## Resources

- [What is IAM ?](https://www.ibm.com/topics/identity-access-management)
- [Cloud-Based vs On-Premise IAM](https://engity.com/blog/iam/idaas-vs-on-premise/)
- [Active Directory for IAM](https://aisn.net/understanding-microsoft-active-directory-for-iam/)
- [IAM Misconfigurations Risks](https://unit42.paloaltonetworks.com/iam-misconfigurations/)
