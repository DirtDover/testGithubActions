# AWS Cloud Infrastructure IAM Review

## Context

During a security review meeting with IBC, you were tasked with conducting a hybrid IAM review/pentest on their AWS cloud infrastructure. Specifically, the focus is on discovering potential misconfigurations within their Identity and Access Management (IAM) setup. IBC’s cloud infrastructure handles highly sensitive financial data, and ensuring that IAM configurations are secure is a critical step in protecting this data.

Below are the key points you noted during the meeting:

## Consultant's Notes

- **Cloud Provider**: AWS.
- **IAM** controls permissions and access for multiple services.
- Roles and policies in place, but no formal security audit has been conducted.
- **Shared responsibility model** in AWS, with IBC handling the IAM configuration.
- Several **admin-level accounts** exist with broad permissions.
- **IAM roles** are assumed by various EC2 instances and Lambda functions.
- Some services are **publicly accessible** that shouldn’t be.
- **Access keys** with no rotation for over 180 days.
- **No MFA** enforced for sensitive accounts.
- **Least privilege** principle not consistently applied.
- **Goal**: Identify misconfigurations and recommend security best practices.
- Look for **overly permissive policies**, **unnecessary root account usage**, and **long-standing credentials**.

## Task

Your task is to perform a pentest on IBC's AWS cloud infrastructure with a focus on identifying misconfigurations in the IAM setup. You will audit roles, policies, permissions, and accounts to detect potential security weaknesses that could be exploited by attackers.

Specifically, you need to:

- Analyze IAM roles and policies to detect excessive permissions.
- Check for **root account misuse** or lack of proper security controls.
- Identify any **access keys** or credentials that are outdated or improperly secured.
- Investigate whether **multi-factor authentication (MFA)** is enforced on critical accounts.
- Look for **unused** or **unnecessary roles** that could be removed.
- Evaluate the application of the **least privilege principle** across the infrastructure.
- Try to privelege escalate from one role to another to demonstrate the impact of misconfigurations.

Produce a detailed report of your findings, including the vulnerabilities discovered, steps to reproduce, and recommendations for securing IBC’s cloud infrastructure, with an emphasis on adhering to industry best practices.
