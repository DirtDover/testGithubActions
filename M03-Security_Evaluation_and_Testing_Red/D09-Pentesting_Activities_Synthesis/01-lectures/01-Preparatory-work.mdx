# Preparatory Work

## What you will learn in this course üßêüßê

- How to tackle the consolidation phase of a pentest
- How to assess risks and make recommendations

## Vulnerability consolidation

You have just finished a long pentesting campaign. It's time to **consolidate the vulnerabilities** you found.

In this lecture, we will explain what this consolidation phase entails and how to carry it out under the best conditions.

**What does "consolidating vulnerabilities" mean?** It simply involves **sorting**, **categorising** (and **sometimes eliminating**) your findings to prepare the client report.

You likely found a lot of vulnerabilities. However, **not all of them need to be treated equally**: some are redundant and can be fixed with the same solution, while others require urgent attention to prevent jeopardising the company.

This consolidation process occurs in **three stages**.

![consolidation](<https://cyber-lead-assets.s3.amazonaws.com/M01-Security_Evaluation_and_Testing_(Red)/D10-Pentesting_Activities_Synthesis/01-lectures/consolidation-process.png>)

The first stage involves **collecting and aggregating the data**, which will clarify the different discoveries. The second stage focuses on **analysing and prioritising** these consolidated data to provide a clearer picture for our client. Finally, the third stage involves **documenting this data** so the client can use our work as a basis for actionable measures.

Remember, **we are working for an end client**. They expect clear, immediately actionable results to secure their systems.

In the following sections, we will delve deeper into each stage.

### Collecting and aggregating vulnerability data

This step is crucial because **data often gets scattered among different team members** if you're working collaboratively, and spread out over time if the report follows several phases of pentesting.

Good organisation and coordination among all consultants is essential.

Usually, the manager is responsible for aggregating the data, but this can vary depending on the assignment. Collaborative solutions like [Dradis](https://dradisframework.com) (which also has an [open source version](https://github.com/dradis/dradis-ce)), [Reconmap](https://github.com/ReconMap), or [Faraday](https://github.com/infobyte/faraday) are useful. For those who prefer non-open-source and free options, [PlexTrac](https://plextrac.com/) has recently gained attention.

Once the different pentesting phases are complete, you need to gather the data. This is the **collection phase**.

The data often comes in **various forms**: notes in Word, markdown files, screenshots, scan files, etc. A good practice is to organise this data into folders based on date, collaborator, and scope.

Collection can sometimes take time if the team (or you) is disorganised. Preparing in advance can save you a lot of stress later, even if it takes a bit more time (though you can always find ways to automate things with a little Bash scripting üí™).

After collection, proceed with the **aggregation step**. Aggregation involves grouping or categorising the vulnerabilities to form a **single comprehensive overview**.

Some vulnerabilities involve weak passwords? Group them. Are there configuration issues on certain services (like multiple machines configured the same way, exposing the same misconfiguration)? Group them. Have you found several services with versions that have known vulnerabilities? Group them.

This is the **decision-making step**.

Remember, **the final goal is to make your report actionable** for the client. Aggregation helps us group vulnerabilities together to present mitigation actions in a way that doesn‚Äôt overwhelm the client. Showing grouped issues often reassures the client about resolving the problems. Ultimately, the goal is for the client to secure their system and take action.

### Analysing and prioritising findings

Now that we have grouped the data, it‚Äôs time to **analyse and prioritise it**.

Vulnerabilities are often examined from three perspectives: **severity**, **exploitability**, and **potential impact**. Often if there is a **business risk**, it means the vulnerability needs to be reported.

Buuut, **you also need to consider other factors** like the responsible personnel, the role of each system within the organisation, and the financial value of the system. Keeping these factors in mind will help you better prioritise the findings.

Ask yourself the following questions:

- What are the critical vulnerabilities to present to the client?
- Which vulnerabilities are easy to fix but have a significant impact on security?

Let‚Äôs take the example of a healthcare startup that stores medical data. They need to prioritise vulnerabilities affecting systems that store, process, or transmit patient data. A data breach would be disastrous for their reputation and patient privacy. Similarly, service availability disruptions could have severe consequences for patient health and care. Additionally, such companies are often certified, and regulatory non-compliance could cost them their accreditation and result in fines.

## Risk assessment and recommendations

We have consolidated our findings and now have a clear view of the entire pentest. This risk assessment and recommendations stage requires you to understand your client's business risks to present the potential impacts effectively.

### Identifying business risks

This step demands a **good understanding of your client‚Äôs business**.

Are their data personal? Does their infrastructure need to be up all the time?

If you don't know these details, it's time to ask your colleagues and managers some targeted questions.

For instance, if you uncovered an authentication flaw that compromises the security of the company's data, this creates a GDPR non-compliance risk. This could result in fines and significant reputational damage (not to mention the risk of personal data exposure).

There are many examples like this. Internal control bypasses that grant access to unauthorised systems or data. Vulnerabilities that could lead to other exploits (pivoting, etc.). All these pose a reputational scandal risk and potential financial losses.

So, **project your findings into real-world scenarios** to help the client understand the concrete risks they face. This approach also helps in better prioritising and planning the necessary actions.

### Recommendations

Once you‚Äôve identified the risks and linked them to your findings, it‚Äôs time to **make some recommendations**.

This task isn‚Äôt easy. You need to strike a balance between giving clear recommendations that help them act quickly and not getting bogged down in step-by-step instructions.

**Experience and feedback from your colleagues** will be invaluable for this part.
